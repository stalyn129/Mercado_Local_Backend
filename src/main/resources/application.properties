# =============================================
# CONFIGURACIÓN PRINCIPAL DE SPRING BOOT
# =============================================

spring.application.name=mercadolocalia

# =============================================
# CONFIGURACIÓN DE BASE DE DATOS
# =============================================
spring.datasource.url=jdbc:mysql://localhost:3306/mercado_local_ia?useSSL=false&serverTimezone=America/Guayaquil
spring.datasource.username=root
spring.datasource.password=
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# =============================================
# CONFIGURACIÓN JPA/HIBERNATE
# =============================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect

# =============================================
# CONFIGURACIÓN DEL SERVIDOR
# =============================================
server.port=8080
server.address=0.0.0.0  # ¡IMPORTANTE! Escucha en todas las interfaces
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=always

# =============================================
# CONFIGURACIÓN DE JWT (AUTENTICACIÓN)
# =============================================
app.jwt.secret=CLAVE_SUPER_LARGA_SEGURA_MERCADOLOCALIA_2025_123456
app.jwt.expiration=86400000

# =============================================
# CONFIGURACIÓN DE IA EXTERNA
# =============================================
app.ia.base-url=https://mercado-local-ia.onrender.com

# =============================================
# CONFIGURACIÓN DE SUBIDA DE ARCHIVOS (UPLOADS)
# =============================================
# Directorio base para uploads
mercadolocalia.upload-dir=uploads

# URL base para construir URLs completas
# Para desarrollo local CON MÓVIL - usa tu IP
mercadolocalia.base-url=http://192.168.1.13:8080

# Orígenes permitidos para CORS
mercadolocalia.allowed-origins=http://localhost:5173,http://127.0.0.1:5173,http://localhost:3000,http://192.168.1.13:8081,http://192.168.1.13:3000,exp://192.168.1.13:8081

# Tipos de imagen permitidos
mercadolocalia.allowed-image-types=image/jpeg,image/jpg,image/png,image/gif,image/webp

# Tamaño máximo de imagen (10MB en bytes)
mercadolocalia.max-image-size=10485760

# Tipos de documento permitidos para comprobantes
mercadolocalia.allowed-document-types=application/pdf,image/jpeg,image/jpg,image/png

# Tamaño máximo de documento (10MB en bytes)
mercadolocalia.max-document-size=10485760

# =============================================
# CONFIGURACIÓN MULTIPART (SPRING)
# =============================================
# Tamaño máximo por archivo
spring.servlet.multipart.max-file-size=100MB

# Tamaño máximo de la petición completa
spring.servlet.multipart.max-request-size=100MB

# Habilitar subida de archivos
spring.servlet.multipart.enabled=true

# =============================================
# CONFIGURACIÓN DE SWAGGER/OPENAPI
# =============================================
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/api-docs

# =============================================
# CONFIGURACIÓN DE LOGGING (DEBUG)
# =============================================
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.security.web.access=DEBUG
logging.level.com.mercadolocalia=DEBUG
logging.level.com.mercadolocalia.controllers=DEBUG
logging.level.com.mercadolocalia.services=DEBUG
logging.level.com.mercadolocalia.services.impl=DEBUG